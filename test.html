<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineVerse - Movie Catalog</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .movie-card {
            transition: all 0.3s ease;
        }
        .movie-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        .backdrop-blur {
            backdrop-filter: blur(10px);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen">
    <div id="app">
        <!-- Navigation -->
        <nav class="bg-gray-800 shadow-lg sticky top-0 z-50">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-film text-purple-500 text-2xl"></i>
                    <a href="#" onclick="loadHomePage()" class="text-xl font-bold text-white hover:text-purple-400 transition">CineVerse</a>
                </div>
                <div class="hidden md:flex space-x-6">
                    <a href="#" onclick="loadPopularMovies()" class="nav-link hover:text-purple-400 transition">Popular</a>
                    <a href="#" onclick="loadTopRatedMovies()" class="nav-link hover:text-purple-400 transition">Top Rated</a>
                    <a href="#" onclick="loadUpcomingMovies()" class="nav-link hover:text-purple-400 transition">Upcoming</a>
                </div>
                <div class="relative w-1/3">
                    <input 
                        type="text" 
                        id="search-input" 
                        placeholder="Search movies..." 
                        class="w-full bg-gray-700 rounded-full py-2 px-4 text-white focus:outline-none focus:ring-2 focus:ring-purple-500"
                        onkeyup="debounceSearch(event)"
                    >
                    <i class="fas fa-search absolute right-3 top-2.5 text-gray-400"></i>
                </div>
                <button class="md:hidden text-white" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden bg-gray-800 px-4 pb-4">
                <a href="#" onclick="loadPopularMovies(); toggleMobileMenu()" class="block py-2 hover:text-purple-400 transition">Popular</a>
                <a href="#" onclick="loadTopRatedMovies(); toggleMobileMenu()" class="block py-2 hover:text-purple-400 transition">Top Rated</a>
                <a href="#" onclick="loadUpcomingMovies(); toggleMobileMenu()" class="block py-2 hover:text-purple-400 transition">Upcoming</a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-8">
            <div id="content" class="fade-in">
                <!-- Homepage content will be loaded here -->
                <div class="text-center py-12">
                    <h1 class="text-4xl font-bold mb-4">Welcome to CineVerse</h1>
                    <p class="text-xl text-gray-300 mb-8">Discover, explore, and enjoy the world of cinema</p>
                    <button onclick="loadPopularMovies()" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-full transition transform hover:scale-105">
                        Browse Movies <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-gray-800 text-gray-400 py-8">
            <div class="container mx-auto px-4">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="mb-4 md:mb-0">
                        <h3 class="text-xl font-bold text-white mb-2">CineVerse</h3>
                        <p>Your ultimate movie catalog</p>
                    </div>
                    <div class="flex space-x-6">
                        <a href="#" class="hover:text-white transition"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="hover:text-white transition"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="hover:text-white transition"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="hover:text-white transition"><i class="fab fa-github"></i></a>
                    </div>
                </div>
                <div class="mt-8 text-center text-sm">
                    <p>&copy; 2023 CineVerse. All rights reserved. Data provided by TMDB API.</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Mock data for movies (in a real app, this would come from an API)
        const mockMovies = {
            popular: [
                {
                    id: 1,
                    title: "The Shawshank Redemption",
                    poster_path: "/q6y0Go1tsGEsmtFryDOJo3dEmqu.jpg",
                    vote_average: 8.7,
                    release_date: "1994-09-23",
                    overview: "Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency."
                },
                {
                    id: 2,
                    title: "The Godfather",
                    poster_path: "/3bhkrj58Vtu7enYsRolD1fZdja1.jpg",
                    vote_average: 8.7,
                    release_date: "1972-03-24",
                    overview: "The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son."
                },
                {
                    id: 3,
                    title: "The Dark Knight",
                    poster_path: "/qJ2tW6WMUDux911r6m7haRef0WH.jpg",
                    vote_average: 8.5,
                    release_date: "2008-07-16",
                    overview: "When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological and physical tests of his ability to fight injustice."
                },
                {
                    id: 4,
                    title: "Pulp Fiction",
                    poster_path: "/d5iIlFn5s0ImszYzBPb8JPIfbXD.jpg",
                    vote_average: 8.5,
                    release_date: "1994-09-10",
                    overview: "The lives of two mob hitmen, a boxer, a gangster and his wife, and a pair of diner bandits intertwine in four tales of violence and redemption."
                },
                {
                    id: 5,
                    title: "Fight Club",
                    poster_path: "/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg",
                    vote_average: 8.4,
                    release_date: "1999-10-15",
                    overview: "An insomniac office worker and a devil-may-care soapmaker form an underground fight club that evolves into something much, much more."
                },
                {
                    id: 6,
                    title: "Inception",
                    poster_path: "/9gk7adHYeDvHkCSEqAvQNLV5Uge.jpg",
                    vote_average: 8.4,
                    release_date: "2010-07-15",
                    overview: "A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O."
                }
            ],
            top_rated: [
                {
                    id: 7,
                    title: "The Lord of the Rings: The Return of the King",
                    poster_path: "/rCzpDGLbOoPwLjy3OAm5NUPOTrC.jpg",
                    vote_average: 8.5,
                    release_date: "2003-12-01",
                    overview: "Aragorn is revealed as the heir to the ancient kings as he, Gandalf and the other members of the broken fellowship struggle to save Gondor from Sauron's forces."
                },
                {
                    id: 8,
                    title: "Schindler's List",
                    poster_path: "/sF1U4EUQS8YHUYjNl3pMGNIQyr0.jpg",
                    vote_average: 8.6,
                    release_date: "1993-11-30",
                    overview: "The true story of how businessman Oskar Schindler saved over a thousand Jewish lives from the Nazis while they worked as slaves in his factory during World War II."
                },
                {
                    id: 9,
                    title: "12 Angry Men",
                    poster_path: "/ppd84D2i9W8jXmsyInGyihiSyqz.jpg",
                    vote_average: 8.5,
                    release_date: "1957-04-10",
                    overview: "A jury holdout attempts to prevent a miscarriage of justice by forcing his colleagues to reconsider the evidence."
                },
                {
                    id: 10,
                    title: "The Good, the Bad and the Ugly",
                    poster_path: "/bX2xnavhMYjWDoZp1VM6VnU1xwe.jpg",
                    vote_average: 8.5,
                    release_date: "1966-12-23",
                    overview: "A bounty hunting scam joins two men in an uneasy alliance against a third in a race to find a fortune in gold buried in a remote cemetery."
                },
                {
                    id: 11,
                    title: "Forrest Gump",
                    poster_path: "/saHP97rTPS5eLmrLQEcANmKrsFl.jpg",
                    vote_average: 8.5,
                    release_date: "1994-07-06",
                    overview: "The presidencies of Kennedy and Johnson, the Vietnam War, the Watergate scandal and other historical events unfold from the perspective of an Alabama man with an IQ of 75."
                },
                {
                    id: 12,
                    title: "The Matrix",
                    poster_path: "/f89U3ADrIgxjKnp9Wfo9QkQFPkU.jpg",
                    vote_average: 8.2,
                    release_date: "1999-03-30",
                    overview: "A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers."
                }
            ],
            upcoming: [
                {
                    id: 13,
                    title: "Dune: Part Two",
                    poster_path: "/8b8R8l88QjeaeUgmQnZRCjgkwMs.jpg",
                    vote_average: 0,
                    release_date: "2023-11-03",
                    overview: "Follow the mythic journey of Paul Atreides as he unites with Chani and the Fremen while on a path of revenge against the conspirators who destroyed his family."
                },
                {
                    id: 14,
                    title: "The Marvels",
                    poster_path: "/9GBhzXMFjgcZ3FdR9w3bUMMTps5.jpg",
                    vote_average: 0,
                    release_date: "2023-11-10",
                    overview: "Carol Danvers gets her powers entangled with those of Kamala Khan and Monica Rambeau, forcing them to work together to save the universe."
                },
                {
                    id: 15,
                    title: "Wonka",
                    poster_path: "/qhb1qOilapbapxWQn9jtUCMf9Ty.jpg",
                    vote_average: 0,
                    release_date: "2023-12-15",
                    overview: "Based on the extraordinary character at the center of Charlie and the Chocolate Factory, the jewel in the Roald Dahl crown and one of the best-selling children's books of all time."
                },
                {
                    id: 16,
                    title: "Aquaman and the Lost Kingdom",
                    poster_path: "/7lTnXOy0iNtBAdRP3TZvaKJ77F6.jpg",
                    vote_average: 0,
                    release_date: "2023-12-20",
                    overview: "Black Manta seeks revenge on Aquaman for his father's death. Wielding the Black Trident's power, he becomes a formidable foe. To defend Atlantis, Aquaman forges an alliance with his imprisoned brother. They must protect the kingdom."
                },
                {
                    id: 17,
                    title: "Kraven the Hunter",
                    poster_path: "/1wYQl4uvEsN8J6q9QxW4y6x3Q9T.jpg",
                    vote_average: 0,
                    release_date: "2023-10-06",
                    overview: "Russian immigrant Sergei Kravinoff is on a mission to prove that he is the greatest hunter in the world."
                },
                {
                    id: 18,
                    title: "The Hunger Games: The Ballad of Songbirds & Snakes",
                    poster_path: "/mBaXZ95R2OxueZhvQbcEWy2DqyO.jpg",
                    vote_average: 0,
                    release_date: "2023-11-17",
                    overview: "Coriolanus Snow mentors and develops feelings for the female District 12 tribute during the 10th Hunger Games."
                }
            ]
        };

        // DOM elements
        const contentElement = document.getElementById('content');
        const searchInput = document.getElementById('search-input');
        const mobileMenu = document.getElementById('mobile-menu');

        // Utility functions
        function toggleMobileMenu() {
            mobileMenu.classList.toggle('hidden');
        }

        function debounce(func, wait) {
            let timeout;
            return function(...args) {
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(this, args), wait);
            };
        }

        function fadeOut(element, callback) {
            element.style.opacity = 1;
            (function fade() {
                if ((element.style.opacity -= 0.1) < 0) {
                    callback();
                } else {
                    requestAnimationFrame(fade);
                }
            })();
        }

        function fadeIn(element) {
            element.style.opacity = 0;
            element.classList.add('fade-in');
            (function fade() {
                let val = parseFloat(element.style.opacity);
                if (!((val += 0.1) > 1)) {
                    element.style.opacity = val;
                    requestAnimationFrame(fade);
                }
            })();
        }

        // Navigation functions
        function loadHomePage() {
            fadeOut(contentElement, () => {
                contentElement.innerHTML = `
                    <div class="text-center py-12">
                        <h1 class="text-4xl font-bold mb-4">Welcome to CineVerse</h1>
                        <p class="text-xl text-gray-300 mb-8">Discover, explore, and enjoy the world of cinema</p>
                        <button onclick="loadPopularMovies()" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-full transition transform hover:scale-105">
                            Browse Movies <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                `;
                fadeIn(contentElement);
            });
        }

        function loadPopularMovies() {
            fadeOut(contentElement, () => {
                contentElement.innerHTML = renderMovieGrid(mockMovies.popular, "Popular Movies");
                fadeIn(contentElement);
            });
        }

        function loadTopRatedMovies() {
            fadeOut(contentElement, () => {
                contentElement.innerHTML = renderMovieGrid(mockMovies.top_rated, "Top Rated Movies");
                fadeIn(contentElement);
            });
        }

        function loadUpcomingMovies() {
            fadeOut(contentElement, () => {
                contentElement.innerHTML = renderMovieGrid(mockMovies.upcoming, "Upcoming Movies");
                fadeIn(contentElement);
            });
        }

        function loadMovieDetails(movieId) {
            // Find the movie in our mock data
            let movie = null;
            for (const category in mockMovies) {
                const found = mockMovies[category].find(m => m.id === movieId);
                if (found) {
                    movie = found;
                    break;
                }
            }

            if (!movie) {
                contentElement.innerHTML = `<div class="text-center py-12"><h2 class="text-2xl">Movie not found</h2></div>`;
                return;
            }

            fadeOut(contentElement, () => {
                contentElement.innerHTML = renderMovieDetails(movie);
                fadeIn(contentElement);
            });
        }

        // Render functions
        function renderMovieGrid(movies, title) {
            return `
                <div>
                    <h2 class="text-2xl font-bold mb-6">${title}</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                        ${movies.map(movie => renderMovieCard(movie)).join('')}
                    </div>
                </div>
            `;
        }

        function renderMovieCard(movie) {
            const posterUrl = movie.poster_path 
                ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`
                : 'https://via.placeholder.com/500x750?text=No+Poster';

            return `
                <div 
                    class="movie-card bg-gray-800 rounded-lg overflow-hidden shadow-lg cursor-pointer hover:shadow-xl transition"
                    onclick="loadMovieDetails(${movie.id})"
                >
                    <div class="relative pb-150">
                        <img 
                            src="${posterUrl}" 
                            alt="${movie.title}" 
                            class="absolute h-full w-full object-cover"
                            onerror="this.src='https://via.placeholder.com/500x750?text=Poster+Not+Available'"
                        >
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-1 truncate">${movie.title}</h3>
                        <div class="flex justify-between items-center text-sm text-gray-400">
                            <span>${movie.release_date ? movie.release_date.split('-')[0] : 'N/A'}</span>
                            <span class="flex items-center">
                                <i class="fas fa-star text-yellow-400 mr-1"></i>
                                ${movie.vote_average > 0 ? movie.vote_average.toFixed(1) : 'N/A'}
                            </span>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderMovieDetails(movie) {
            const posterUrl = movie.poster_path 
                ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`
                : 'https://via.placeholder.com/500x750?text=No+Poster';

            return `
                <div class="max-w-6xl mx-auto">
                    <button 
                        onclick="loadPopularMovies()" 
                        class="mb-6 flex items-center text-purple-400 hover:text-purple-300 transition"
                    >
                        <i class="fas fa-arrow-left mr-2"></i> Back to Movies
                    </button>
                    
                    <div class="flex flex-col md:flex-row gap-8">
                        <div class="w-full md:w-1/3">
                            <div class="rounded-lg overflow-hidden shadow-lg">
                                <img 
                                    src="${posterUrl}" 
                                    alt="${movie.title}" 
                                    class="w-full h-auto"
                                    onerror="this.src='https://via.placeholder.com/500x750?text=Poster+Not+Available'"
                                >
                            </div>
                        </div>
                        
                        <div class="w-full md:w-2/3">
                            <h1 class="text-3xl font-bold mb-2">${movie.title}</h1>
                            
                            <div class="flex items-center mb-4">
                                <span class="bg-purple-600 text-white text-sm px-2 py-1 rounded mr-3">
                                    ${movie.release_date ? movie.release_date.split('-')[0] : 'N/A'}
                                </span>
                                <span class="flex items-center text-yellow-400">
                                    <i class="fas fa-star mr-1"></i>
                                    ${movie.vote_average > 0 ? movie.vote_average.toFixed(1) + '/10' : 'Not rated yet'}
                                </span>
                            </div>
                            
                            <div class="mb-6">
                                <h2 class="text-xl font-semibold mb-2">Overview</h2>
                                <p class="text-gray-300">${movie.overview || 'No overview available.'}</p>
                            </div>
                            
                            <div class="flex space-x-4">
                                <button class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition">
                                    <i class="fas fa-play mr-2"></i> Watch Trailer
                                </button>
                                <button class="border border-purple-400 text-purple-400 hover:bg-purple-900 hover:bg-opacity-30 px-4 py-2 rounded-full transition">
                                    <i class="fas fa-plus mr-2"></i> Add to Watchlist
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Search functionality
        function searchMovies(query) {
            if (!query.trim()) {
                loadPopularMovies();
                return;
            }

            // In a real app, this would be an API call
            const allMovies = [...mockMovies.popular, ...mockMovies.top_rated, ...mockMovies.upcoming];
            const results = allMovies.filter(movie => 
                movie.title.toLowerCase().includes(query.toLowerCase())
            );

            fadeOut(contentElement, () => {
                if (results.length > 0) {
                    contentElement.innerHTML = renderMovieGrid(results, `Search Results for "${query}"`);
                } else {
                    contentElement.innerHTML = `
                        <div class="text-center py-12">
                            <i class="fas fa-search text-5xl text-gray-500 mb-4"></i>
                            <h2 class="text-2xl font-bold mb-2">No results found</h2>
                            <p class="text-gray-400">We couldn't find any movies matching "${query}"</p>
                            <button onclick="loadPopularMovies()" class="mt-6 bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-full transition">
                                Browse Popular Movies
                            </button>
                        </div>
                    `;
                }
                fadeIn(contentElement);
            });
        }

        const debounceSearch = debounce((event) => {
            searchMovies(event.target.value);
        }, 500);

        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            // Set up event listeners for nav links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function() {
                    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('text-purple-400'));
                    this.classList.add('text-purple-400');
                });
            });
        });
    </script>
</body>
</html>